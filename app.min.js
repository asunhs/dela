/*! Grunt Uglify 2015-12-16 */ require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({DelaApp:[function(a,b,c){b.exports=angular.module("DelaApp",["templates-html","naver-weather","ngTouch"]).config(["$compileProvider","$httpProvider",function(a,b){a.debugInfoEnabled(!1),b.useApplyAsync(!0)}])},{}],1:[function(a,b,c){angular.module("templates-html",["dela/delaCard.tpl.html","dela/loading.tpl.html"]),angular.module("dela/delaCard.tpl.html",[]).run(["$templateCache",function(a){a.put("dela/delaCard.tpl.html",'<div class="dela-card" ng-class="{fold:!unfold}">\n    <div class="dela-card-header">\n        <span class="cal-level {{::calLevel}}">{{::calLabel}}</span>\n        <span class="zone {{::menu.zoneId}}">{{::zoneName}}</span>\n    </div>\n    <div class="dela-card-content">\n        <img ng-src="{{::menu.imgSrc}}" alt="{{::menu.en}}" ng-click="toggle()" />\n        <div class="dela-card-section {{::menu.sectionId}}">\n            {{::menu.sectionName}}\n        </div>\n        <div class="dela-card-menu" ng-click="toggle()">\n            <p><span class="title-ko">{{::menu.ko}}</span></p>\n            <p><span class="title-en">{{::menu.en}}</span></p>\n            <p>{{::calories | number}} kcal</p>\n            <p ng-if="!menu.soldout"><span class="price">{{::price | number}} 원</span> <span class="discounted">({{::discounted | number}} 원)</span></p>\n            <p ng-if="menu.soldout"><span class="soldout">SOLD OUT</span></p>\n        </div>\n\n        <div class="dela-card-footer">\n            <div class="vote">\n                <div class="gauge-box">                    \n                    <span class="gauge gauge-good" ng-style="{width:likes + \'%\'}"><b>{{likes}}%</b></span>\n                    <span class="gauge gauge-bad" ng-style="{width:dislikes + \'%\'}"><b>{{dislikes}}%</b></span>\n                </div>\n                <div class="btn btn-good" ng-click="good()">\n                    <span class="badge">{{like | badge}}</span>\n                </div>\n                <div class="btn btn-bad" ng-click="bad()">\n                    <span class="badge">{{dislike | badge}}</span>\n                </div>\n            </div>\n        </div>\n        <div class="dela-card-emblem">\n            <span ng-if="ratingOrder" class="rating rating_{{ratingOrder}}"></span>\n        </div>\n    </div>\n</div>')}]),angular.module("dela/loading.tpl.html",[]).run(["$templateCache",function(a){a.put("dela/loading.tpl.html",'<div class="loading-wrap">\n    <img src="images/loading_apple.gif" alt="loading" />\n</div>')}])},{}],2:[function(a,b,c){function d(a){this.keyCode=a.keyCode,this.like=parseInt(a.likeCount),this.dislike=parseInt(a.dislikeCount),this.total=this.like+this.dislike}function e(a,b,c){function e(e,h){return b.request(f+"counts&keyCodes="+_.map(e,function(a){return encodeURIComponent(a)}).join(","),h).then(function(b){var e=g(_.map(b,function(a){return new d(a)}));return a.$broadcast("updateCounts",c.list=e),c.list})}function g(a){var b=_.filter(a,function(a){return a.like>=5});return b.sort(function(a,b){return a.getLikeRatio()===b.getLikeRatio()?b.like-a.like:b.getLikeRatio()-a.getLikeRatio()}),b[0]&&(b[0].order=1),b[1]&&(b[1].order=2),b[2]&&(b[2].order=3),a}function h(a){return b.request(f+"good&keyCode="+encodeURIComponent(a.keyCode))}function i(a){return b.request(f+"bad&keyCode="+encodeURIComponent(a.keyCode))}function j(a){return _.findWhere(c.list,{keyCode:a})}this.counts=e,this.like=h,this.dislike=i,this.getCountByKeyCode=j}d.prototype={getLikeRatio:function(){return parseInt(1e4*this.like/this.total)/100},getDislikeRatio:function(){return parseInt(1e4*this.dislike/this.total)/100}};var f="https://script.google.com/macros/s/AKfycbx-WG_T_qYlQIeSH2xbeyz1Ejw8HVqNtS7BFILZFVxXYzk1Idk/exec?callback=JSON_CALLBACK&action=";e.$inject=["$rootScope","JSONPSvc","Counts"],a("DelaApp").service("CountSvc",e).value("Counts",{})},{DelaApp:"DelaApp"}],3:[function(a,b,c){function d(a){this.zoneId=a.zoneId,this.sectionId=a.sectionId,this.sectionName=_.unescape(a.sectionName),this.keyCode=a.keyCode,this.cal=a.cal,this.en=_.unescape(a.en),this.ko=_.unescape(a.ko),this.price=a.price,this.soldout=a.soldout,this.imgSrc=a.product?"http://sdsfoodmenu.co.kr:9106/foodcourt/menu?menuId="+a.product:"images/no-image.png"}function e(a,b,c,e){function f(){return a.request(g+"menus").then(j)}function h(){return a.request(g+"dummy").then(j)}function i(a){return CryptoJS.SHA1(a.map(function(a){return a.keyCode}).join("")).toString()}function j(a){return c.list=k(a.menus),c.hash=a.menuHash,e.storeMenuHash(c.hash),l(!0),c.list}function k(a){return _.map(a,function(a){return new d(a)})}function l(a){b.counts(c.list.map(function(a){return a.keyCode}),a)}this.getMenus=f,this.getDummys=h,this.getCards=k,this.getCounts=l,this.getMenuHash=i}function f(a,b,c,d){function e(){a.orderIndex=(a.orderIndex+1)%3}var f=b.search();(f.dummy?c.getDummys():c.getMenus()).then(function(b){a.menus=b}),a.orderFactor=["","cal","price"],a.orderName=["Place","Calories","Price"],a.orderIndex=0,d.getWeather().then(function(b){try{a.weatherImg=b.weather.iconURL,a.weatherText=b.weather.weatherText,a.weatherTemperature=parseInt(b.weather.temperature),a.weatherPosition=[b.region.doName,b.region.siName,b.region.dongName].join(" "),a.weatherRcode=b.region.rcode}catch(c){}}),a.toggleOrder=e}var g="https://script.google.com/macros/s/AKfycbxFhifcCIQst4i75OPBiPVwYwv154Si2woBJRTYBuxd817FrFeO/exec?callback=JSON_CALLBACK&action=";e.$inject=["JSONPSvc","CountSvc","Cards","StoreSvc"],f.$inject=["$scope","$location","DelaSvc","NaverWeatherAPI"],a("DelaApp").service("DelaSvc",e).controller("DelaCtrl",f).value("Cards",{}).run(["$document",function(a){function b(){var a=d.prop("scrollTop")+c.height()-d.prop("scrollHeight")+135;a>=0?d.addClass("expand"):d.removeClass("expand")}var c=angular.element(window),d=a.find("body");c.scroll(b)}])},{DelaApp:"DelaApp"}],4:[function(a,b,c){function d(a){switch(a){case"ZONE01":return"B1F";case"ZONE02":return"B2F";default:return""}}function e(a){return a.replace(/\D/g,"")}function f(a){return a>900?i.SUPER_HIGH:a>850?i.HIGH:600>a?i.SUPER_LOW:650>a?i.LOW:i.NORMAL}function g(a){return 5500==a?2500:a-2500}function h(a,b,c){return{restrict:"E",templateUrl:"dela/delaCard.tpl.html",scope:!0,replace:!0,link:function(h){var i=h.menu,k=e(i.cal),l=e(i.price);h.zoneName=d(i.zoneId),h.calories=k,h.calLevel=f(k),h.calLabel=j[h.calLevel],h.price=l,h.discounted=g(l),h.$on("updateCounts",function(){var b=a.getCountByKeyCode(i.keyCode);b?(h.like=b.like,h.dislike=b.dislike,h.likes=b.getLikeRatio(),h.dislikes=b.getDislikeRatio(),h.ratingOrder=b.order):(h.like=0,h.dislike=0,h.likes=0,h.dislikes=0)}),h.toggle=function(){h.unfold=!h.unfold},h.good=function(){return c.getSupportLocalStorage()?c.isVotedHash(i.keyCode)?alert("You already voted"):void a.like(i).then(function(){c.storeVoteHash(i.keyCode),b.getCounts()}):alert("Currently browser can not use some features.\n- Vote")},h.bad=function(){return c.getSupportLocalStorage()?c.isVotedHash(i.keyCode)?alert("You already voted"):void a.dislike(i).then(function(){c.storeVoteHash(i.keyCode),b.getCounts()}):alert("Currently browser can not use some features.\n- Vote")}}}}var i={SUPER_HIGH:"super-high",HIGH:"high",NORMAL:"normal",LOW:"low",SUPER_LOW:"super-low"},j={"super-high":"초고칼로리",high:"고칼로리",normal:"표준칼로리",low:"저칼로리","super-low":"초저칼로리"};h.$inject=["CountSvc","DelaSvc","StoreSvc"],a("DelaApp").directive("delaCard",h)},{DelaApp:"DelaApp"}],5:[function(a,b,c){function d(a,b){function c(c,d){if(d)return a.jsonp(c).then(function(a){return a.data});var e=b.loading();return a.jsonp(c).then(function(a){return e(),a.data},e)}this.request=c}d.$inject=["$http","LoadingSvc"],a("DelaApp").service("JSONPSvc",d)},{DelaApp:"DelaApp"}],6:[function(a,b,c){function d(a,b){function c(){var a=b.defer();return e.appendTo("body"),a.promise.then(function(){e.remove()}),function(){a.resolve()}}var d=a.get("dela/loading.tpl.html"),e=angular.element(d);this.loading=c}d.$inject=["$templateCache","$q"],a("DelaApp").service("LoadingSvc",d)},{DelaApp:"DelaApp"}],7:[function(a,b,c){function d(a){function b(){return a.jsonp(e+"&callback=JSON_CALLBACK").then(function(a){return a.data.result})}this.getWeather=b}var e="https://script.google.com/macros/s/AKfycbyJ_LVJvLMYQEYyycw0yJkZj6mbuEGQkjMuZEEq3ZiUl4IFB5lx/exec?lat=37.518142&lng=127.10065";d.$inject=["$http"],angular.module("naver-weather",[]).service("NaverWeatherAPI",d)},{}],8:[function(a,b,c){function d(a){function b(){return e.getItem("dela-mini-recent-menu-hash")}function c(a){var c=b();if(a!==c)try{e.setItem("dela-mini-vote-hash",JSON.stringify([])),e.setItem("dela-mini-recent-menu-hash",a)}catch(d){i=!1,alert("Currently browser can not use some features.\n- Vote")}}function d(){return JSON.parse(e.getItem("dela-mini-vote-hash"))}function f(b){var c=d(),e=a.hash+b;return _.contains(c,e)}function g(b){var c=d(),f=a.hash+b;c.push(f),e.setItem("dela-mini-vote-hash",JSON.stringify(c))}function h(){return i}var i=!0;this.loadMenuHash=b,this.storeMenuHash=c,this.loadVoteHashs=d,this.isVotedHash=f,this.storeVoteHash=g,this.getSupportLocalStorage=h}var e=window.localStorage;d.$inject=["Cards"],a("DelaApp").service("StoreSvc",d)},{DelaApp:"DelaApp"}],9:[function(a,b,c){function d(){return function(a){return 1e3>a?""+a:"999+"}}a("DelaApp").filter("badge",d)},{DelaApp:"DelaApp"}],10:[function(a,b,c){function d(a){var b=""+a;return"000".substr(b.length)+b}function e(){return function(a){for(var b=[];a>999;)b.push(d(a%1e3)),a=~~(a/1e3);return b.push(a),b.reverse().join(",")}}a("DelaApp").filter("number",e)},{DelaApp:"DelaApp"}]},{},["DelaApp",2,3,4,5,6,7,8,9,10,1]);